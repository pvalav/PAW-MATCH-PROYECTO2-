<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/registro.css">
    <title><% titulo %></title>
</head>
<body>
    <header class="navbar">
    <img src="PAW MATCH LOGO.png" alt="logo" id="pwml2">
    <button class="btn" onclick="window.location.href='/ayuda'" >Acerca de nosotros/ayuda</button>
    <button class="btn" onclick="window.location.href='/iniciar'" >Ingresar</button>
            <button class="btn" onclick="window.location.href='/'">Regresar</button>


    <!-- FORMULARIO DE BÚSQUEDA FUNCIONAL -->
    <form class="search-bar" onsubmit="buscarMascota(event)" >
      <input type="text" id="busqueda" placeholder="Busca a tu peludo" class="search" disabled/> <button type="submit" disabled>🔍</button>
    </form>
  </header>

  <main>
    <section class="form-section">
      <h2>Regístrate</h2>
      <form method="post" action="/registro1" id="formRegistro" onsubmit="return validarFormulario()">
        <input type="text" placeholder="Numero telefonico de whatsapp"  name="numerotel" id="numerotel"  required />
        <input type="text" placeholder="Nombre (Usuario)" name="nombre" id="nombre"  required />
        <input type="email" placeholder="Correo electronico"name="correo" id="correo" required />
        <input type="text" placeholder="Localidad" name="localidad" id="localidad" required />
        <div style="position: relative;">
  <input type="password" placeholder="Crea una contraseña segura" name="contra" id="contra" required />
  <span onclick="togglePassword()" id="span1">
    👁
  </span>
</div>
        <button type="submit" class="salvarbtn">Guardar</button>
      </form>
      <a href="/iniciar">¿Ya tienes cuenta? Inicia sesión</a>
    </section>
    <section class="image-section">
      <div class="image-frame">
        <img src="/imagen de registro1.jpeg" alt="Perro simpático"/>
      </div>
    </section>
  </main>
  <script>
  function validarFormulario() {
    const nombre = document.getElementById('nombre').value;
    const numerotel = document.getElementById('numerotel').value;
    const contra = document.getElementById('contra').value;

    // Validar que el nombre solo tenga letras y espacios
    if (!/^[A-Za-z\s]+$/.test(nombre)) {
      alert("El nombre solo debe contener letras.");
      return false;
    }

    // Validar número de teléfono (solo 10 dígitos)
    if (!/^\d{10}$/.test(numerotel)) {
      alert("El número de teléfono debe contener exactamente 10 dígitos.");
      return false;
    }

    // Validar contraseña: solo mayúsculas y números, exactamente 10 caracteres
    if (!/^[A-Z0-9]{10}$/.test(contra)) {
      alert("La contraseña debe tener exactamente 10 caracteres con letras MAYÚSCULAS y números.");
      return false;
    }

    // Si todo está bien, se envía el formulario
    return true;
  }
  function togglePassword() {
    const input = document.getElementById("contra");
    const icon = document.getElementById("toggleIcon");
    
    if (input.type === "password") {
      input.type = "text";
      icon.textContent = "🙈"; // Cambia el icono
    } else {
      input.type = "password";
      icon.textContent = "👁";
    }
  }
</script>
</body>
</html>